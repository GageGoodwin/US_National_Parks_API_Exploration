<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="style.css">
    <title>National Park Service Live Stream URLs</title>
</head>
<body>
    <h1>National Park Service Live Stream URLs</h1>
    <div id="webcam-list"></div>

    <script>
        const apiKey = '';
        let start = 0;
        const limit = 50;
        let total = 0;
      
        async function fetchWebcams() {
            try {
                do {
                    const apiUrl = `https://developer.nps.gov/api/v1/webcams?start=${start}&api_key=${apiKey}`;
                    const response = await fetch(apiUrl);
                    const data = await response.json();
      
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
      
                    if (data && data.data && data.data.length > 0) {
                        total = parseInt(data.total, 10);
                        const webcamList = document.getElementById('webcam-list');
      
                        data.data.forEach(webcam => {
                            const title = webcam.title;
                            const imageUrl = webcam.url;
      
                            const urlElement = document.createElement('a');
                            urlElement.textContent = title; // Title as the clickable text
                            urlElement.href = imageUrl; // URL as the href
                            urlElement.target = '_blank';
                            urlElement.style.display = 'block'; // Display as block for better spacing
                            urlElement.style.marginBottom = '10px'; // Margin for spacing
      
                            webcamList.appendChild(urlElement);
                        });
      
                        start += data.data.length;
                    } else {
                        if (start === 0) {
                            document.getElementById('webcam-list').textContent = 'No data available.';
                        }
                        break;
                    }
                } while (start < total);
            } catch (error) {
                console.error('Error fetching data:', error);
                document.getElementById('webcam-list').textContent = 'Error fetching data.';
            }
        }
      
        window.onload = fetchWebcams;
      </script>
</body>
</html>
